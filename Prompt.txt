【前提/厳守】
- バトル画面の「左右キャラ情報エリア」「中央エリアのサイズ/配置」は “完成” です。以後、PC/スマホとも「サイズ調整・レイアウト調整」は一切しないでください（CSS/JSのscaleやpanel幅/高さ等を触らない）。
- 今回は “デグレ修正 + 見た目統一 + iOS入力ズーム対策” のみ。

【直したいこと】
①（スマホのみ）石の投下が「1回目タップで即落ち」になってデグレした
- 期待仕様：1回目タップ＝投下列（ハイライト）決定、2回目タップ＝その列に石を落とす
- 現状：自分のターンで盤面タップすると即 handleStoneDrop 相当が走って落ちる
- 依頼：スマホだけ “1タップ目はハイライト更新のみ” に戻して。落下確定は「2回目タップ」or「投下エリア（topCanvas）のタップ」or「ダブルタップ」など、明確に分けて。
  - 実装案：pendingDropCol を用意
    - 1回目：pendingDropCol = col、ハイライト更新のみ
    - 2回目：同じcolなら drop、違うcolなら pendingDropCol 更新（dropしない）
  - 関連：touchstart/touchend/click のどれで drop が呼ばれてるかを確認して、スマホ時は drop 呼び出し経路を分離してほしい

②（スマホのみ）石投下位置エリア（上の石/ハイライト）の“石デザイン”がPCと違う
- PCの石：既存の見た目（ハイライトの石の形/グラデ/縁取りがこれまで通り）
- スマホ：石が潰れて見える/デザインが別物に見える
- 依頼：PCと同じ描画関数・同じパラメータを使って、スマホでも “既存と同じ石デザイン” に統一して。
  - チェック観点：
    - topCanvas の width/height と devicePixelRatio のスケーリング（ctx.scale(dpr,dpr) の扱い）
    - 石の半径/中心座標が canvas サイズに対して正しく計算されてるか（縦だけ潰れてる＝CSS表示サイズとcanvas実寸の不一致の可能性大）
    - PCとスマホで描画ロジックが分岐していないか（分岐してるならPC側に統一）

③（スマホのみ）キャラ選択画面：入力欄にフォーカスするとiOS Safariが勝手にズームしてレイアウトが中央に寄る
- 依頼：可能な範囲で “ズームしない/崩れない” 対策を入れてほしい
  - iOSは input の font-size が 16px未満だとフォーカス時に自動ズームするので、スマホCSSで input/textarea/select を font-size:16px; にしてズーム抑制
  - 併せて -webkit-text-size-adjust: 100%; を指定
  - 可能なら visualViewport の resize/scroll に合わせて位置調整する（ただしレイアウト自体は変えない）

【重要：触ってはいけない範囲（再掲）】
- battle の centerPanel/boardWrap のサイズ計算、左右パネル幅、高さ、スケール、余白、配置は “変更禁止”
- 変更は上記①②③を直すための最小限（イベント経路・描画の統一・input font-size 16px など）のみ

【再現手順（①）】
- iPhone Safari 横画面でバトル → 自分のターンで盤面を1回タップすると、その時点で石が落ちる（本来は落ちずにハイライトだけ）

【再現手順（②）】
- iPhone Safari 横画面でバトル → 上の投下位置エリアの石/ハイライトの見た目がPCと違う（潰れて見える）
